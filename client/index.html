<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LuxeJewels - Luxury Jewelry Collection</title>
    <meta name="description" content="LuxeJewels - Premium luxury jewelry collection featuring exquisite rings, necklaces, bracelets, and custom designs crafted with finest materials">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #ffffff;
            color: #000000;
            min-height: 100vh;
        }

        #root {
            min-height: 100vh;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease-out;
        }

        .loading-logo {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #000, #333);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        .loading-logo span {
            color: #ffd700;
            font-size: 2rem;
            font-weight: bold;
            font-family: 'Playfair Display', serif;
        }

        .loading-text {
            color: #000;
            font-size: 1.5rem;
            font-weight: 600;
            font-family: 'Playfair Display', serif;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Legacy styles cleanup */
        #hero-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Hero Text Section */
        .hero-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            text-align: center;
            pointer-events: none;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700, #b8860b, #ffd700);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: royalShimmer 6s ease-in-out infinite;
            margin-bottom: 20px;
            text-shadow: 0 0 40px rgba(255, 215, 0, 0.6);
            opacity: 0;
            animation: fadeInTitle 3s ease-out 1s forwards, royalShimmer 6s ease-in-out infinite;
        }

        .hero-tagline {
            font-size: 1.8rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
            letter-spacing: 4px;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeInTagline 3s ease-out 2.5s forwards;
            background: linear-gradient(45deg, #ffffff, #ffd700, #ffffff);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInTagline 3s ease-out 2.5s forwards, subtleGoldShimmer 8s ease-in-out infinite;
        }

        @keyframes royalShimmer {
            0%, 100% { 
                background-position: 0% 50%;
                filter: brightness(1);
            }
            25% {
                background-position: 50% 50%;
                filter: brightness(1.2);
            }
            50% { 
                background-position: 100% 50%;
                filter: brightness(1.4);
            }
            75% {
                background-position: 50% 50%;
                filter: brightness(1.2);
            }
        }

        @keyframes subtleGoldShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes fadeInTitle {
            0% { 
                opacity: 0; 
                transform: translateY(30px) scale(0.9); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        @keyframes fadeInTagline {
            0% { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        /* Call-to-Action Button */
        .cta-container {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            opacity: 0;
            animation: fadeInCTA 3s ease-out 4s forwards;
        }

        .menu-button {
            background: linear-gradient(45deg, #ffd700, #ffed4e, #b8860b);
            border: 2px solid #ffd700;
            color: #000;
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            font-weight: 700;
            padding: 18px 40px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4);
            position: relative;
            overflow: hidden;
            animation: pulseGlow 3s ease-in-out infinite;
            pointer-events: auto;
        }

        .menu-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.8), transparent);
            transform: rotate(45deg) translateX(-100%);
            transition: transform 0.6s;
        }

        .menu-button:hover::before {
            transform: rotate(45deg) translateX(100%);
        }

        .menu-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 25px 60px rgba(255, 215, 0, 0.6);
            background: linear-gradient(45deg, #ffed4e, #ffd700, #ffed4e);
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 15px 40px rgba(255, 215, 0, 0.4); }
            50% { box-shadow: 0 20px 50px rgba(255, 215, 0, 0.7); }
        }

        @keyframes fadeInCTA {
            0% { 
                opacity: 0; 
                transform: translateX(-50%) translateY(30px); 
            }
            100% { 
                opacity: 1; 
                transform: translateX(-50%) translateY(0); 
            }
        }

        /* Award Badges Strip */
        .awards-strip {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            display: flex;
            gap: 30px;
            opacity: 0;
            animation: fadeInAwards 3s ease-out 5s forwards;
        }

        .award-badge {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.1));
            border: 1px solid rgba(255, 215, 0, 0.4);
            border-radius: 25px;
            padding: 8px 20px;
            font-size: 0.9rem;
            color: #ffd700;
            backdrop-filter: blur(15px);
            text-align: center;
            animation: floatBadge 4s ease-in-out infinite;
        }

        .award-badge:nth-child(2) {
            animation-delay: 1s;
        }

        .award-badge:nth-child(3) {
            animation-delay: 2s;
        }

        @keyframes floatBadge {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        @keyframes fadeInAwards {
            0% { 
                opacity: 0; 
                transform: translateX(-50%) translateY(20px); 
            }
            100% { 
                opacity: 1; 
                transform: translateX(-50%) translateY(0); 
            }
        }

        /* Reservation Button */
        .reservation-button {
            position: fixed;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 215, 0, 0.1));
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 50%;
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s ease;
            backdrop-filter: blur(20px);
            opacity: 0;
            animation: fadeInReservation 3s ease-out 6s forwards;
        }

        .reservation-button:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.5), rgba(255, 215, 0, 0.3));
            border-color: #ffd700;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .reservation-icon {
            font-size: 1.5rem;
            color: #ffd700;
        }

        @keyframes fadeInReservation {
            0% { 
                opacity: 0; 
                transform: translateY(-50%) translateX(20px); 
            }
            100% { 
                opacity: 1; 
                transform: translateY(-50%) translateX(0); 
            }
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 3.5rem;
            }

            .hero-tagline {
                font-size: 1.3rem;
                letter-spacing: 2px;
            }

            .menu-button {
                font-size: 1.2rem;
                padding: 15px 30px;
            }

            .cta-container {
                bottom: 100px;
            }

            .awards-strip {
                gap: 15px;
                flex-wrap: wrap;
                justify-content: center;
                max-width: 90%;
            }

            .award-badge {
                font-size: 0.8rem;
                padding: 6px 15px;
            }

            .reservation-button {
                right: 20px;
                width: 60px;
                height: 60px;
            }

            .reservation-icon {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-tagline {
                font-size: 1.1rem;
                letter-spacing: 1px;
            }

            .menu-button {
                font-size: 1.1rem;
                padding: 12px 25px;
            }
        }

        /* Loading Animation */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #000000 0%, #1a0606 50%, #000000 100%);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1s ease-out;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(255, 215, 0, 0.3);
            border-top: 3px solid #ffd700;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-spinner"></div>
    </div>

    <!-- Three.js Canvas -->
    <canvas id="hero-canvas"></canvas>

    <!-- Hero Content -->
    <div class="hero-content">
        <h1 class="hero-title">Golden Spoons</h1>
        <p class="hero-tagline">Where Flavors Meet Royalty</p>
    </div>

    <!-- Call-to-Action -->
    <div class="cta-container">
        <a href="/menu" class="menu-button">View Menu</a>
    </div>

    <!-- Award Badges -->
    <div class="awards-strip">
        <div class="award-badge">üèÜ Best Fine Dining 2024</div>
        <div class="award-badge">üë®‚Äçüç≥ Chef's Special Recognition</div>
        <div class="award-badge">‚≠ê 5-Star Excellence Award</div>
    </div>

    <!-- Reservation Button -->
    <div class="reservation-button" title="Make Reservation">
        <span class="reservation-icon">üçΩÔ∏è</span>
    </div>

    <script>
        // Three.js variables
        let scene, camera, renderer;
        let goldenSpoon, dish, steamParticles, spiceOrbiters, backgroundParticles;
        let spiceGroup, steamGroup, particleGroup;
        let mouseX = 0, mouseY = 0;
        let cameraInitialPosition = { x: 0, y: 2, z: 15 };

        function init() {
            console.log("üçΩÔ∏è Initializing Golden Spoons 3D Homepage...");

            // Scene
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x000000, 20, 50);

            // Camera with cinematic entry position
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 5, 25); // Start further back for zoom-in effect

            // Renderer
            renderer = new THREE.WebGLRenderer({
                canvas: document.getElementById('hero-canvas'),
                antialias: true,
                alpha: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.2;

            // Lighting setup
            setupLighting();

            // Create main elements
            createDish();
            createGoldenSpoon();
            createSteamEffect();
            createSpiceOrbiters();
            createBackgroundParticles();

            // Camera zoom-in animation
            animateCameraEntry();

            // Event listeners
            setupEventListeners();

            // Start animation loop
            animate();

            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 1000);
            }, 2000);

            console.log("üçΩÔ∏è Golden Spoons homepage initialized successfully");
        }

        function setupLighting() {
            // Ambient light for overall illumination
            const ambientLight = new THREE.AmbientLight(0x404040, 0.4);
            scene.add(ambientLight);

            // Main spotlight on dish and spoon
            const mainSpotlight = new THREE.SpotLight(0xffd700, 4);
            mainSpotlight.position.set(0, 10, 8);
            mainSpotlight.target.position.set(0, 0, 0);
            mainSpotlight.castShadow = true;
            mainSpotlight.shadow.mapSize.width = 2048;
            mainSpotlight.shadow.mapSize.height = 2048;
            mainSpotlight.angle = Math.PI / 6;
            mainSpotlight.penumbra = 0.4;
            scene.add(mainSpotlight);
            scene.add(mainSpotlight.target);

            // Rim lighting for depth
            const rimLight1 = new THREE.DirectionalLight(0xff6b35, 0.6);
            rimLight1.position.set(-8, 4, -6);
            scene.add(rimLight1);

            const rimLight2 = new THREE.DirectionalLight(0xffd700, 0.8);
            rimLight2.position.set(8, -2, 6);
            scene.add(rimLight2);

            // Soft fill light
            const fillLight = new THREE.DirectionalLight(0xffffff, 0.3);
            fillLight.position.set(0, -6, 10);
            scene.add(fillLight);
        }

        function createDish() {
            // Create biryani dish geometry
            const dishGeometry = new THREE.CylinderGeometry(2.5, 2.2, 0.4, 32);
            const dishMaterial = new THREE.MeshPhysicalMaterial({
                color: 0x8b4513,
                metalness: 0.8,
                roughness: 0.2,
                clearcoat: 0.9,
                clearcoatRoughness: 0.1
            });

            dish = new THREE.Mesh(dishGeometry, dishMaterial);
            dish.position.set(0, -1, 0);
            dish.castShadow = true;
            dish.receiveShadow = true;
            scene.add(dish);

            // Add biryani rice on top
            const riceGeometry = new THREE.CylinderGeometry(2.3, 2.3, 0.6, 32);
            const riceMaterial = new THREE.MeshPhysicalMaterial({
                color: 0xffd700,
                metalness: 0.1,
                roughness: 0.8,
                transparent: true,
                opacity: 0.9
            });

            const rice = new THREE.Mesh(riceGeometry, riceMaterial);
            rice.position.set(0, -0.5, 0);
            scene.add(rice);

            // Add saffron garnish
            for (let i = 0; i < 8; i++) {
                const saffronGeometry = new THREE.SphereGeometry(0.05, 8, 8);
                const saffronMaterial = new THREE.MeshBasicMaterial({ color: 0xff4500 });
                const saffron = new THREE.Mesh(saffronGeometry, saffronMaterial);
                
                const angle = (i / 8) * Math.PI * 2;
                saffron.position.set(
                    Math.cos(angle) * 1.5,
                    -0.2,
                    Math.sin(angle) * 1.5
                );
                scene.add(saffron);
            }
        }

        function createGoldenSpoon() {
            // Spoon handle
            const handleGeometry = new THREE.CylinderGeometry(0.08, 0.06, 4, 16);
            const spoonMaterial = new THREE.MeshPhysicalMaterial({
                color: 0xffd700,
                metalness: 0.9,
                roughness: 0.1,
                clearcoat: 1.0,
                clearcoatRoughness: 0.05
            });

            const handle = new THREE.Mesh(handleGeometry, spoonMaterial);
            handle.position.set(0, 2, -1);
            handle.rotation.x = Math.PI / 6;

            // Spoon bowl
            const bowlGeometry = new THREE.SphereGeometry(0.4, 16, 16, 0, Math.PI);
            const bowl = new THREE.Mesh(bowlGeometry, spoonMaterial);
            bowl.position.set(0, 4, -2);
            bowl.rotation.x = Math.PI / 3;

            goldenSpoon = new THREE.Group();
            goldenSpoon.add(handle);
            goldenSpoon.add(bowl);
            goldenSpoon.castShadow = true;
            scene.add(goldenSpoon);
        }

        function createSteamEffect() {
            steamGroup = new THREE.Group();
            const steamParticleCount = 100;
            const steamGeometry = new THREE.BufferGeometry();
            const steamPositions = new Float32Array(steamParticleCount * 3);
            const steamVelocities = [];

            for (let i = 0; i < steamParticleCount; i++) {
                // Start particles around the dish
                steamPositions[i * 3] = (Math.random() - 0.5) * 3;
                steamPositions[i * 3 + 1] = -0.5 + Math.random() * 0.5;
                steamPositions[i * 3 + 2] = (Math.random() - 0.5) * 3;

                steamVelocities.push({
                    x: (Math.random() - 0.5) * 0.02,
                    y: 0.02 + Math.random() * 0.03,
                    z: (Math.random() - 0.5) * 0.02,
                    life: Math.random() * 100
                });
            }

            steamGeometry.setAttribute('position', new THREE.BufferAttribute(steamPositions, 3));

            const steamMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.3,
                transparent: true,
                opacity: 0.4,
                blending: THREE.AdditiveBlending
            });

            steamParticles = new THREE.Points(steamGeometry, steamMaterial);
            steamParticles.userData = { velocities: steamVelocities };
            steamGroup.add(steamParticles);
            scene.add(steamGroup);
        }

        function createSpiceOrbiters() {
            spiceGroup = new THREE.Group();
            const spices = [
                { color: 0xff4500, size: 0.08 }, // Saffron
                { color: 0x228b22, size: 0.12 }, // Cardamom
                { color: 0x8b0000, size: 0.06 }, // Chili
                { color: 0x00ff00, size: 0.10 }, // Mint
                { color: 0xffd700, size: 0.07 }, // Turmeric
                { color: 0x654321, size: 0.09 }  // Cinnamon
            ];

            spices.forEach((spice, index) => {
                const spiceGeometry = new THREE.SphereGeometry(spice.size, 8, 8);
                const spiceMaterial = new THREE.MeshPhysicalMaterial({
                    color: spice.color,
                    metalness: 0.2,
                    roughness: 0.8,
                    emissive: spice.color,
                    emissiveIntensity: 0.2
                });

                const spiceMesh = new THREE.Mesh(spiceGeometry, spiceMaterial);
                
                // Position in orbit around dish
                const angle = (index / spices.length) * Math.PI * 2;
                const radius = 5 + Math.random() * 2;
                spiceMesh.position.set(
                    Math.cos(angle) * radius,
                    1 + Math.sin(angle * 2) * 0.5,
                    Math.sin(angle) * radius
                );

                spiceMesh.userData = {
                    originalPosition: spiceMesh.position.clone(),
                    orbitAngle: angle,
                    orbitRadius: radius,
                    orbitSpeed: 0.005 + Math.random() * 0.003,
                    verticalOffset: 1 + Math.sin(angle * 2) * 0.5,
                    hovered: false
                };

                spiceGroup.add(spiceMesh);
            });

            scene.add(spiceGroup);
        }

        function createBackgroundParticles() {
            particleGroup = new THREE.Group();
            const particleCount = 300;
            const geometry = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);

            for (let i = 0; i < particleCount; i++) {
                positions[i * 3] = (Math.random() - 0.5) * 80;
                positions[i * 3 + 1] = (Math.random() - 0.5) * 60;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 80;

                const color = new THREE.Color();
                color.setHSL(0.15, 0.8, Math.random() * 0.5 + 0.5);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));

            const material = new THREE.PointsMaterial({
                size: 1.5,
                sizeAttenuation: true,
                vertexColors: true,
                transparent: true,
                opacity: 0.6,
                blending: THREE.AdditiveBlending
            });

            backgroundParticles = new THREE.Points(geometry, material);
            particleGroup.add(backgroundParticles);
            scene.add(particleGroup);
        }

        function animateCameraEntry() {
            const startPosition = { x: 0, y: 5, z: 25 };
            const endPosition = { x: 0, y: 2, z: 15 };
            const duration = 4000;
            const startTime = Date.now();

            function updateCamera() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeProgress = 1 - Math.pow(1 - progress, 3);

                camera.position.x = startPosition.x + (endPosition.x - startPosition.x) * easeProgress;
                camera.position.y = startPosition.y + (endPosition.y - startPosition.y) * easeProgress;
                camera.position.z = startPosition.z + (endPosition.z - startPosition.z) * easeProgress;

                if (progress < 1) {
                    requestAnimationFrame(updateCamera);
                }
            }

            updateCamera();
        }

        function setupEventListeners() {
            // Mouse movement for parallax
            document.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX / window.innerWidth) * 2 - 1;
                mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
            });

            // Window resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // Spice hover effects (raycasting for interactivity)
            const raycaster = new THREE.Raycaster();
            const mouse = new THREE.Vector2();

            document.addEventListener('mousemove', (event) => {
                mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(spiceGroup.children);

                // Reset all spices
                spiceGroup.children.forEach(spice => {
                    spice.userData.hovered = false;
                });

                // Highlight hovered spice
                if (intersects.length > 0) {
                    intersects[0].object.userData.hovered = true;
                }
            });
        }

        function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            // Rotate golden spoon gently
            if (goldenSpoon) {
                goldenSpoon.rotation.y += 0.008;
                goldenSpoon.position.y = 2 + Math.sin(time * 0.5) * 0.1;
            }

            // Animate dish rotation
            if (dish) {
                dish.rotation.y += 0.003;
            }

            // Animate steam particles
            if (steamParticles) {
                const positions = steamParticles.geometry.attributes.position.array;
                const velocities = steamParticles.userData.velocities;

                for (let i = 0; i < velocities.length; i++) {
                    const index = i * 3;
                    
                    positions[index] += velocities[i].x;
                    positions[index + 1] += velocities[i].y;
                    positions[index + 2] += velocities[i].z;

                    velocities[i].life++;

                    // Reset particle when it goes too high or dies
                    if (positions[index + 1] > 8 || velocities[i].life > 150) {
                        positions[index] = (Math.random() - 0.5) * 3;
                        positions[index + 1] = -0.5;
                        positions[index + 2] = (Math.random() - 0.5) * 3;
                        velocities[i].life = 0;
                    }
                }

                steamParticles.geometry.attributes.position.needsUpdate = true;
            }

            // Animate spice orbiters
            if (spiceGroup) {
                spiceGroup.children.forEach((spice) => {
                    const userData = spice.userData;
                    userData.orbitAngle += userData.orbitSpeed;

                    if (userData.hovered) {
                        // Scatter effect on hover
                        userData.orbitRadius += (8 - userData.orbitRadius) * 0.1;
                    } else {
                        // Return to original orbit
                        const originalRadius = 5 + Math.random() * 2;
                        userData.orbitRadius += (originalRadius - userData.orbitRadius) * 0.05;
                    }

                    spice.position.x = Math.cos(userData.orbitAngle) * userData.orbitRadius;
                    spice.position.z = Math.sin(userData.orbitAngle) * userData.orbitRadius;
                    spice.position.y = userData.verticalOffset + Math.sin(userData.orbitAngle * 3 + time) * 0.3;

                    // Gentle rotation
                    spice.rotation.x += 0.01;
                    spice.rotation.y += 0.02;
                });
            }

            // Animate background particles
            if (backgroundParticles) {
                backgroundParticles.rotation.y += 0.0005;
                const positions = backgroundParticles.geometry.attributes.position.array;
                
                for (let i = 0; i < positions.length; i += 3) {
                    positions[i + 1] += Math.sin(time + positions[i]) * 0.002;
                }
                
                backgroundParticles.geometry.attributes.position.needsUpdate = true;
            }

            // Subtle camera movement based on mouse
            camera.position.x += (mouseX * 2 - camera.position.x) * 0.02;
            camera.position.y += (-mouseY * 2 + 2 - camera.position.y) * 0.02;
            camera.lookAt(scene.position);

            renderer.render(scene, camera);
        }

        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>