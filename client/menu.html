<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Golden Spoons - 3D Culinary Journey</title>
    <meta name="description" content="Experience authentic Indian cuisine in luxury 3D - Golden Spoons cylindrical menu showcase">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            overflow: hidden;
            background: linear-gradient(135deg, #000000 0%, #1a0606 30%, #2d0a0a 70%, #0a0a0a 100%);
            color: #ffffff;
            height: 100vh;
            cursor: grab;
        }

        body.dragging {
            cursor: grabbing;
        }

        /* Three.js Canvas */
        #menu-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Header */
        .menu-header {
            position: fixed;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            text-align: center;
        }

        .menu-title {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700, #b8860b);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: luxuryShimmer 4s ease-in-out infinite;
            margin-bottom: 15px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        .menu-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 300;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        @keyframes luxuryShimmer {
            0%, 100% { 
                background-position: 0% 50%;
            }
            50% { 
                background-position: 100% 50%;
            }
        }

        /* Dish Info Panel */
        .dish-info {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            text-align: center;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8) 0%, rgba(26, 6, 6, 0.6) 100%);
            padding: 30px 50px;
            border-radius: 25px;
            backdrop-filter: blur(25px);
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            max-width: 600px;
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dish-name {
            font-family: 'Playfair Display', serif;
            font-size: 2.8rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #b8860b);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: luxuryShimmer 3s ease-in-out infinite;
            margin-bottom: 15px;
            text-shadow: 0 4px 20px rgba(255, 215, 0, 0.4);
        }

        .dish-price {
            font-size: 2rem;
            color: #ffed4e;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(255, 237, 78, 0.3);
        }

        .dish-description {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.95);
            line-height: 1.7;
            font-style: italic;
            max-width: 500px;
            margin: 0 auto;
        }

        /* Controls Hint */
        .controls-hint {
            position: fixed;
            top: 50%;
            left: 30px;
            transform: translateY(-50%);
            z-index: 100;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            letter-spacing: 2px;
            opacity: 0.7;
            animation: fadeInOut 3s ease-in-out infinite;
        }

        .controls-hint-right {
            left: auto;
            right: 30px;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.8; }
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a0606 50%, #2d0a0a 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 1s ease-out;
        }

        .loading-content {
            text-align: center;
        }

        .loading-text {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleShimmer 2s ease-in-out infinite;
            margin-bottom: 20px;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 215, 0, 0.3);
            border-top: 3px solid #ffd700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .menu-title {
                font-size: 2.5rem;
            }

            .menu-subtitle {
                font-size: 1rem;
                letter-spacing: 2px;
            }

            .dish-info {
                bottom: 40px;
                padding: 25px 30px;
                max-width: 90%;
                border-radius: 20px;
            }

            .dish-name {
                font-size: 2.2rem;
            }

            .dish-price {
                font-size: 1.6rem;
            }

            .dish-description {
                font-size: 1.1rem;
            }

            .controls-hint {
                left: 15px;
                font-size: 0.8rem;
            }

            .controls-hint-right {
                right: 15px;
            }
        }

        @media (max-width: 480px) {
            .menu-header {
                top: 30px;
            }

            .menu-title {
                font-size: 2rem;
            }

            .dish-info {
                bottom: 30px;
                padding: 20px 25px;
            }

            .dish-name {
                font-size: 1.8rem;
            }

            .controls-hint {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-text">Preparing Menu</div>
            <div class="loading-spinner"></div>
        </div>
    </div>

    <!-- Three.js Canvas -->
    <canvas id="menu-canvas"></canvas>

    <!-- Header -->
    <div class="menu-header">
        <h1 class="menu-title">Golden Spoons</h1>
        <p class="menu-subtitle">Luxury Cylindrical Menu</p>
    </div>

    <!-- Dish Info Panel -->
    <div class="dish-info" id="dishInfo">
        <h3 class="dish-name" id="dishName">Butter Chicken</h3>
        <p class="dish-price" id="dishPrice">₹680</p>
        <p class="dish-description" id="dishDescription">Tender chicken in rich tomato-based gravy with cream, butter, and aromatic spices</p>
    </div>

    <!-- Controls Hint -->
    <div class="controls-hint">SCROLL OR DRAG</div>
    <div class="controls-hint controls-hint-right">TO ROTATE</div>

    <script>
        // Three.js variables
        let scene, camera, renderer, cylinderGroup, particles, particleSystem;
        let dishPlanes = [];
        let currentDishIndex = 0;
        let targetRotation = 0;
        let currentRotation = 0;
        let isDragging = false;
        let previousMouseX = 0;

        // Featured dishes for cylindrical display
        const featuredDishes = [
            {
                name: "Butter Chicken",
                price: "₹680",
                description: "Tender chicken in rich tomato-based gravy with cream, butter, and aromatic spices",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23ff4500'/%3E%3Ccircle cx='150' cy='100' r='60' fill='%23ff6b35'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EButter Chicken%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Biryani (Chicken)",
                price: "₹580",
                description: "Fragrant basmati rice layered with spiced chicken, saffron, and caramelized onions",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23ffd700'/%3E%3Crect x='50' y='50' width='200' height='100' fill='%23daa520' rx='10'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EChicken Biryani%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Paneer Tikka",
                price: "₹320",
                description: "Cottage cheese cubes marinated in spiced yogurt and grilled with bell peppers and onions",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23fff8dc'/%3E%3Crect x='75' y='75' width='50' height='50' fill='%23f0f0f0' rx='5'/%3E%3Crect x='150' y='75' width='50' height='50' fill='%23f0f0f0' rx='5'/%3E%3Ctext x='150' y='160' font-family='serif' font-size='16' fill='%23333' text-anchor='middle'%3EPaneer Tikka%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Dal Makhani",
                price: "₹420",
                description: "Creamy black lentils slow-cooked overnight with butter, cream, and traditional spices",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23654321'/%3E%3Ccircle cx='150' cy='100' r='70' fill='%238b4513'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EDal Makhani%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Tandoori Chicken",
                price: "₹450",
                description: "Succulent chicken pieces marinated in yogurt and spices, grilled to perfection in our traditional tandoor",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23ff6b35'/%3E%3Cellipse cx='150' cy='100' rx='80' ry='50' fill='%23d2691e'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='14' fill='white' text-anchor='middle'%3ETandoori Chicken%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Gulab Jamun",
                price: "₹240",
                description: "Soft milk dumplings soaked in cardamom-flavored sugar syrup, served warm",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%238b4513'/%3E%3Ccircle cx='120' cy='100' r='25' fill='%23654321'/%3E%3Ccircle cx='180' cy='100' r='25' fill='%23654321'/%3E%3Ctext x='150' y='160' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EGulab Jamun%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Palak Paneer",
                price: "₹480",
                description: "Fresh cottage cheese cubes in creamy spinach gravy with garlic and ginger",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23228b22'/%3E%3Crect x='100' y='75' width='30' height='30' fill='%23f0f0f0' rx='3'/%3E%3Crect x='170' y='95' width='30' height='30' fill='%23f0f0f0' rx='3'/%3E%3Ctext x='150' y='160' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EPalak Paneer%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Masala Chai",
                price: "₹120",
                description: "Traditional spiced tea with cardamom, ginger, cinnamon, and fresh milk",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23d2691e'/%3E%3Crect x='120' y='60' width='60' height='80' fill='%238b4513' rx='30'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EMasala Chai%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Samosas",
                price: "₹180",
                description: "Crispy golden pastries filled with spiced potatoes, peas, and fresh coriander",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23daa520'/%3E%3Cpolygon points='100,120 150,70 200,120' fill='%23b8860b'/%3E%3Cpolygon points='100,120 150,170 200,120' fill='%23cd853f'/%3E%3Ctext x='150' y='190' font-family='serif' font-size='16' fill='%23333' text-anchor='middle'%3ESamosas%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Mango Lassi",
                price: "₹180",
                description: "Thick yogurt drink blended with fresh mango pulp and a hint of cardamom",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23ffa500'/%3E%3Crect x='130' y='50' width='40' height='100' fill='%23ff8c00' rx='20'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='16' fill='white' text-anchor='middle'%3EMango Lassi%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Naan Bread",
                price: "₹80",
                description: "Traditional leavened flatbread baked in tandoor, soft and fluffy",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23f5deb3'/%3E%3Cellipse cx='150' cy='100' rx='80' ry='40' fill='%23deb887'/%3E%3Ctext x='150' y='110' font-family='serif' font-size='16' fill='%23333' text-anchor='middle'%3ENaan Bread%3C/text%3E%3C/svg%3E"
            },
            {
                name: "Ras Malai",
                price: "₹280",
                description: "Delicate cottage cheese patties in sweetened, thickened milk with pistachios",
                imageUrl: "data:image/svg+xml,%3Csvg width='300' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='300' height='200' fill='%23fffaf0'/%3E%3Ccircle cx='120' cy='100' r='30' fill='%23f0f8ff'/%3E%3Ccircle cx='180' cy='100' r='30' fill='%23f0f8ff'/%3E%3Ctext x='150' y='160' font-family='serif' font-size='16' fill='%23333' text-anchor='middle'%3ERas Malai%3C/text%3E%3C/svg%3E"
            }
        ];

        // Menu data (keeping original structure for potential future use)
        const menuData = {
            starters: [
                {
                    name: "Tandoori Chicken Tikka",
                    price: "₹450",
                    description: "Succulent chicken pieces marinated in yogurt and spices, grilled to perfection in our traditional tandoor",
                    color: 0xff6b35
                },
                {
                    name: "Seekh Kebab",
                    price: "₹380",
                    description: "Aromatic minced lamb skewers seasoned with fresh herbs and spices, served with mint chutney",
                    color: 0x8b4513
                },
                {
                    name: "Paneer Tikka",
                    price: "₹320",
                    description: "Cottage cheese cubes marinated in spiced yogurt and grilled with bell peppers and onions",
                    color: 0xfff8dc
                },
                {
                    name: "Samosas",
                    price: "₹180",
                    description: "Crispy golden pastries filled with spiced potatoes, peas, and fresh coriander",
                    color: 0xdaa520
                },
                {
                    name: "Aloo Tikki Chaat",
                    price: "₹220",
                    description: "Pan-fried potato patties topped with yogurt, chutneys, and pomegranate seeds",
                    color: 0xcd853f
                },
                {
                    name: "Fish Amritsari",
                    price: "₹520",
                    description: "Fresh fish fillets in spiced gram flour batter, deep-fried to golden perfection",
                    color: 0xffa500
                },
                {
                    name: "Bhel Puri",
                    price: "₹160",
                    description: "Crispy puffed rice mixed with sev, chutneys, onions, and tomatoes - Mumbai's favorite street snack",
                    color: 0xf5deb3
                },
                {
                    name: "Chicken 65",
                    price: "₹390",
                    description: "Spicy deep-fried chicken cubes with curry leaves, green chilies, and South Indian spices",
                    color: 0xff4500
                },
                {
                    name: "Pani Puri",
                    price: "₹140",
                    description: "Crispy hollow puris filled with spiced water, tamarind chutney, and chickpeas",
                    color: 0xffd700
                },
                {
                    name: "Hara Bhara Kebab",
                    price: "₹280",
                    description: "Green vegetable patties made with spinach, peas, and cottage cheese, served with mint chutney",
                    color: 0x228b22
                }
            ],
            mains: [
                {
                    name: "Butter Chicken",
                    price: "₹680",
                    description: "Tender chicken in rich tomato-based gravy with cream, butter, and aromatic spices",
                    color: 0xff4500
                },
                {
                    name: "Dal Makhani",
                    price: "₹420",
                    description: "Creamy black lentils slow-cooked overnight with butter, cream, and traditional spices",
                    color: 0x654321
                },
                {
                    name: "Biryani (Chicken)",
                    price: "₹580",
                    description: "Fragrant basmati rice layered with spiced chicken, saffron, and caramelized onions",
                    color: 0xffd700
                },
                {
                    name: "Palak Paneer",
                    price: "₹480",
                    description: "Fresh cottage cheese cubes in creamy spinach gravy with garlic and ginger",
                    color: 0x228b22
                },
                {
                    name: "Rogan Josh",
                    price: "₹750",
                    description: "Tender lamb curry in aromatic gravy with Kashmiri spices and yogurt",
                    color: 0x8b0000
                },
                {
                    name: "Chole Bhature",
                    price: "₹350",
                    description: "Spicy chickpea curry served with fluffy deep-fried bread and pickled onions",
                    color: 0xf4a460
                },
                {
                    name: "Malai Kofta",
                    price: "₹520",
                    description: "Cottage cheese and potato dumplings in rich cashew and tomato gravy",
                    color: 0xffe4e1
                },
                {
                    name: "Fish Curry (Kerala Style)",
                    price: "₹620",
                    description: "Fresh fish cooked in coconut milk with curry leaves, green chilies, and traditional spices",
                    color: 0xfff8dc
                },
                {
                    name: "Rajma (Kidney Bean Curry)",
                    price: "₹380",
                    description: "Red kidney beans in thick onion-tomato gravy with aromatic spices, served with rice",
                    color: 0x8b0000
                },
                {
                    name: "Hyderabadi Biryani (Mutton)",
                    price: "₹850",
                    description: "Authentic Hyderabadi mutton biryani with basmati rice, saffron, and dum cooking",
                    color: 0xdaa520
                },
                {
                    name: "Kadai Paneer",
                    price: "₹460",
                    description: "Cottage cheese with bell peppers and onions in spicy tomato-based kadai masala",
                    color: 0xff6347
                },
                {
                    name: "Chicken Korma",
                    price: "₹590",
                    description: "Tender chicken in rich cashew and yogurt-based gravy with aromatic whole spices",
                    color: 0xf5deb3
                },
                {
                    name: "Aloo Gobi",
                    price: "₹320",
                    description: "Dry curry of potatoes and cauliflower with turmeric, cumin, and fresh coriander",
                    color: 0xffff99
                }
            ],
            desserts: [
                {
                    name: "Gulab Jamun",
                    price: "₹240",
                    description: "Soft milk dumplings soaked in cardamom-flavored sugar syrup, served warm",
                    color: 0x8b4513
                },
                {
                    name: "Ras Malai",
                    price: "₹280",
                    description: "Delicate cottage cheese patties in sweetened, thickened milk with pistachios",
                    color: 0xfffaf0
                },
                {
                    name: "Kulfi Falooda",
                    price: "₹320",
                    description: "Traditional ice cream with vermicelli, rose syrup, and chopped nuts",
                    color: 0xffb6c1
                },
                {
                    name: "Gajar Ka Halwa",
                    price: "₹260",
                    description: "Rich carrot pudding with milk, ghee, and cardamom, garnished with almonds",
                    color: 0xff8c00
                },
                {
                    name: "Jalebi with Rabri",
                    price: "₹300",
                    description: "Crispy golden spirals in sugar syrup served with thick sweetened milk",
                    color: 0xffd700
                },
                {
                    name: "Kheer (Rice Pudding)",
                    price: "₹220",
                    description: "Creamy rice pudding with milk, sugar, cardamom, and garnished with almonds and raisins",
                    color: 0xfff8dc
                },
                {
                    name: "Rasgulla",
                    price: "₹200",
                    description: "Spongy cottage cheese balls soaked in light sugar syrup, a Bengali classic",
                    color: 0xffffff
                },
                {
                    name: "Mysore Pak",
                    price: "₹280",
                    description: "Traditional South Indian sweet made with ghee, gram flour, and sugar",
                    color: 0xdaa520
                },
                {
                    name: "Sandesh",
                    price: "₹250",
                    description: "Delicate Bengali sweet made from fresh cottage cheese and sugar, flavored with cardamom",
                    color: 0xf0f8ff
                },
                {
                    name: "Kaju Katli",
                    price: "₹480",
                    description: "Diamond-shaped cashew fudge with silver leaf, premium Diwali sweet",
                    color: 0xc0c0c0
                },
                {
                    name: "Shrikhand",
                    price: "₹240",
                    description: "Sweetened strained yogurt with saffron, cardamom, and chopped pistachios",
                    color: 0xffffe0
                },
                {
                    name: "Coconut Barfi",
                    price: "₹220",
                    description: "Traditional coconut fudge with milk, sugar, and cardamom powder",
                    color: 0xffffff
                }
            ],
            beverages: [
                {
                    name: "Masala Chai",
                    price: "₹120",
                    description: "Traditional spiced tea with cardamom, ginger, cinnamon, and fresh milk",
                    color: 0x8b4513
                },
                {
                    name: "Fresh Lime Water",
                    price: "₹80",
                    description: "Refreshing lime juice with mint, black salt, and a touch of sugar",
                    color: 0x90ee90
                },
                {
                    name: "Mango Lassi",
                    price: "₹180",
                    description: "Thick yogurt drink blended with fresh mango pulp and a hint of cardamom",
                    color: 0xffa500
                },
                {
                    name: "Badam Milk",
                    price: "₹200",
                    description: "Rich almond milk with saffron, cardamom, and crushed pistachios",
                    color: 0xf5deb3
                },
                {
                    name: "Filter Coffee",
                    price: "₹140",
                    description: "South Indian filter coffee with chicory, served with hot milk and sugar",
                    color: 0x3c1810
                },
                {
                    name: "Rose Lassi",
                    price: "₹160",
                    description: "Creamy yogurt drink flavored with rose water and garnished with rose petals",
                    color: 0xffb6c1
                },
                {
                    name: "Sugarcane Juice",
                    price: "₹100",
                    description: "Fresh pressed sugarcane juice with ginger and lime for a refreshing treat",
                    color: 0x90ee90
                },
                {
                    name: "Thandai",
                    price: "₹220",
                    description: "Traditional Holi drink with milk, almonds, pistachios, and aromatic spices",
                    color: 0xf0f8ff
                },
                {
                    name: "Coconut Water",
                    price: "₹90",
                    description: "Fresh tender coconut water served chilled, naturally refreshing and healthy",
                    color: 0xffffff
                },
                {
                    name: "Aam Panna",
                    price: "₹150",
                    description: "Raw mango drink with mint, black salt, and roasted cumin - perfect summer cooler",
                    color: 0x9acd32
                },
                {
                    name: "Buttermilk (Chaas)",
                    price: "₹110",
                    description: "Spiced yogurt drink with cumin, coriander, and mint leaves",
                    color: 0xfff8dc
                },
                {
                    name: "Kulhad Chai",
                    price: "₹130",
                    description: "Traditional clay pot tea with milk, sugar, and aromatic spices",
                    color: 0xd2691e
                }
            ]
        };

        function init() {
            console.log("🍽️ Initializing 3D Cylindrical Menu...");

            // Scene
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x000000, 20, 50);

            // Camera
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 0, 12);

            // Renderer
            renderer = new THREE.WebGLRenderer({
                canvas: document.getElementById('menu-canvas'),
                antialias: true,
                alpha: true
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            renderer.toneMapping = THREE.ACESFilmicToneMapping;
            renderer.toneMappingExposure = 1.0;

            // Lighting
            setupLighting();

            // Create cylinder group
            cylinderGroup = new THREE.Group();
            scene.add(cylinderGroup);

            // Create particles
            createParticles();

            // Create cylindrical dish layout
            createCylindricalMenu();

            // Event listeners
            setupEventListeners();

            // Start animation
            animate();

            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 1000);
            }, 2000);

            console.log("🍽️ Cylindrical Menu initialized successfully");
        }

        function setupLighting() {
            // Ambient light
            const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
            scene.add(ambientLight);

            // Main spotlight for active dish
            const spotlight = new THREE.SpotLight(0xffd700, 3);
            spotlight.position.set(0, 8, 10);
            spotlight.target.position.set(0, 0, 0);
            spotlight.castShadow = true;
            spotlight.shadow.mapSize.width = 2048;
            spotlight.shadow.mapSize.height = 2048;
            spotlight.angle = Math.PI / 8;
            spotlight.penumbra = 0.5;
            scene.add(spotlight);
            scene.add(spotlight.target);

            // Rim lighting
            const rimLight1 = new THREE.DirectionalLight(0xffd700, 0.8);
            rimLight1.position.set(-10, 5, 5);
            scene.add(rimLight1);

            const rimLight2 = new THREE.DirectionalLight(0xff6b35, 0.4);
            rimLight2.position.set(10, -3, -5);
            scene.add(rimLight2);

            // Soft fill light
            const fillLight = new THREE.DirectionalLight(0xffffff, 0.2);
            fillLight.position.set(0, -5, 8);
            scene.add(fillLight);
        }

        function createParticles() {
            const particleCount = 200;
            particles = new THREE.BufferGeometry();
            const positions = new Float32Array(particleCount * 3);
            const colors = new Float32Array(particleCount * 3);
            const sizes = new Float32Array(particleCount);

            for (let i = 0; i < particleCount; i++) {
                // Distribute particles in a larger space
                positions[i * 3] = (Math.random() - 0.5) * 60;
                positions[i * 3 + 1] = (Math.random() - 0.5) * 40;
                positions[i * 3 + 2] = (Math.random() - 0.5) * 60;

                // Golden particle colors
                const color = new THREE.Color();
                color.setHSL(0.15, 0.9, Math.random() * 0.4 + 0.6);
                colors[i * 3] = color.r;
                colors[i * 3 + 1] = color.g;
                colors[i * 3 + 2] = color.b;

                sizes[i] = Math.random() * 2 + 0.5;
            }

            particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            particles.setAttribute('color', new THREE.BufferAttribute(colors, 3));
            particles.setAttribute('size', new THREE.BufferAttribute(sizes, 1));

            const particleMaterial = new THREE.PointsMaterial({
                size: 2,
                sizeAttenuation: true,
                vertexColors: true,
                transparent: true,
                opacity: 0.7,
                blending: THREE.AdditiveBlending
            });

            particleSystem = new THREE.Points(particles, particleMaterial);
            scene.add(particleSystem);
        }

        function createCylindricalMenu() {
            const radius = 8;
            const dishCount = featuredDishes.length;

            for (let i = 0; i < dishCount; i++) {
                const dish = featuredDishes[i];
                const angle = (i / dishCount) * Math.PI * 2;

                // Create plane geometry for dish image
                const planeGeometry = new THREE.PlaneGeometry(4, 3);
                
                // Load dish image as texture
                const loader = new THREE.TextureLoader();
                const texture = loader.load(dish.imageUrl);
                texture.minFilter = THREE.LinearFilter;
                texture.magFilter = THREE.LinearFilter;

                const planeMaterial = new THREE.MeshLambertMaterial({
                    map: texture,
                    transparent: true,
                    side: THREE.DoubleSide
                });

                const dishPlane = new THREE.Mesh(planeGeometry, planeMaterial);
                
                // Position on cylinder
                dishPlane.position.set(
                    Math.cos(angle) * radius,
                    0,
                    Math.sin(angle) * radius
                );

                // Face the center (billboard effect)
                dishPlane.lookAt(0, 0, 0);

                // Store dish data
                dishPlane.userData = {
                    dish: dish,
                    index: i,
                    originalScale: { x: 1, y: 1, z: 1 }
                };

                dishPlanes.push(dishPlane);
                cylinderGroup.add(dishPlane);
            }

            // Update initial active dish
            updateActiveDish();
        }

        function updateActiveDish() {
            // Determine which dish is closest to center (facing user)
            const dishCount = featuredDishes.length;
            const normalizedRotation = ((currentRotation % (Math.PI * 2)) + Math.PI * 2) % (Math.PI * 2);
            const dishAngle = (Math.PI * 2) / dishCount;
            currentDishIndex = Math.round(normalizedRotation / dishAngle) % dishCount;

            // Update dish info
            const activeDish = featuredDishes[currentDishIndex];
            document.getElementById('dishName').textContent = activeDish.name;
            document.getElementById('dishPrice').textContent = activeDish.price;
            document.getElementById('dishDescription').textContent = activeDish.description;

            // Update dish scales and highlighting
            dishPlanes.forEach((plane, index) => {
                const isActive = index === currentDishIndex;
                const targetScale = isActive ? 1.3 : 1.0;
                
                // Smooth scale transition
                plane.scale.x += (targetScale - plane.scale.x) * 0.1;
                plane.scale.y += (targetScale - plane.scale.y) * 0.1;
                plane.scale.z += (targetScale - plane.scale.z) * 0.1;

                // Material opacity for non-active dishes
                plane.material.opacity = isActive ? 1.0 : 0.7;
            });
        }

        function rotateCylinder(deltaRotation) {
            targetRotation += deltaRotation;
            
            // Smooth rotation with easing
            const rotationDiff = targetRotation - currentRotation;
            const easedRotation = rotationDiff * 0.1;
            
            currentRotation += easedRotation;
            cylinderGroup.rotation.y = currentRotation;

            updateActiveDish();
        }

        function setupEventListeners() {
            const canvas = document.getElementById('menu-canvas');

            // Mouse wheel rotation
            canvas.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rotationSpeed = 0.005;
                rotateCylinder(e.deltaY * rotationSpeed);
            });

            // Touch/Mouse drag rotation
            let startX = 0;
            let startRotation = 0;

            // Mouse events
            canvas.addEventListener('mousedown', (e) => {
                isDragging = true;
                startX = e.clientX;
                startRotation = targetRotation;
                previousMouseX = e.clientX;
                document.body.classList.add('dragging');
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                
                const deltaX = e.clientX - previousMouseX;
                const rotationSpeed = 0.01;
                rotateCylinder(deltaX * rotationSpeed);
                previousMouseX = e.clientX;
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                document.body.classList.remove('dragging');
            });

            // Touch events
            canvas.addEventListener('touchstart', (e) => {
                isDragging = true;
                startX = e.touches[0].clientX;
                startRotation = targetRotation;
                previousMouseX = e.touches[0].clientX;
            });

            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (!isDragging) return;
                
                const deltaX = e.touches[0].clientX - previousMouseX;
                const rotationSpeed = 0.01;
                rotateCylinder(deltaX * rotationSpeed);
                previousMouseX = e.touches[0].clientX;
            });

            canvas.addEventListener('touchend', () => {
                isDragging = false;
            });

            // Keyboard controls
            document.addEventListener('keydown', (e) => {
                const rotationSpeed = 0.5;
                switch(e.key) {
                    case 'ArrowLeft':
                        rotateCylinder(-rotationSpeed);
                        break;
                    case 'ArrowRight':
                        rotateCylinder(rotationSpeed);
                        break;
                }
            });

            // Window resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        function animate() {
            requestAnimationFrame(animate);

            const time = Date.now() * 0.001;

            // Smooth rotation interpolation
            if (!isDragging) {
                const rotationDiff = targetRotation - currentRotation;
                currentRotation += rotationDiff * 0.05;
                cylinderGroup.rotation.y = currentRotation;
                
                if (Math.abs(rotationDiff) > 0.001) {
                    updateActiveDish();
                }
            }

            // Animate particles
            if (particleSystem) {
                particleSystem.rotation.y += 0.001;
                particleSystem.rotation.z += 0.0005;
                
                const positions = particles.attributes.position.array;
                for (let i = 0; i < positions.length; i += 3) {
                    positions[i + 1] += Math.sin(time + positions[i] * 0.01) * 0.008;
                    positions[i] += Math.cos(time + positions[i + 2] * 0.01) * 0.002;
                }
                particles.attributes.position.needsUpdate = true;
            }

            // Billboard effect - keep dishes facing camera
            dishPlanes.forEach(plane => {
                const position = plane.position.clone();
                position.y = 0; // Keep y-axis aligned
                plane.lookAt(camera.position.x, 0, camera.position.z);
            });

            // Gentle camera movement
            camera.position.y += Math.sin(time * 0.5) * 0.01;

            renderer.render(scene, camera);
        }

        // Initialize when page loads
        window.addEventListener('load', init);

        console.log("🍽️ 3D Menu system loaded");
    </script>
</body>
</html>